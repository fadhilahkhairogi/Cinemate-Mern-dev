<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cinemate - Movie Details</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    body {
      background-color: #0a1a2a;
      color: #f0f0f0;
      font-family: 'Montserrat', sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

/* ``` */
.navbar {
  background-color: #071422;
  padding: 0.75rem 1.5rem;
}

.navbar-brand {
  font-weight: 700;
  font-size: 1.5rem;
  color: #f0f0f0;
  letter-spacing: 2px;
}

.navbar-brand span {
  color: #3ea6ff;
}

.btn-toggle {
  background-color: #0f2a4a;
  border: none;
  color: #f0f0f0;
  font-weight: 600;
  padding: 0.375rem 1.25rem;
  border-radius: 0.375rem;
  transition: background-color 0.3s ease;
}
.btn-toggle.active, .btn-toggle:hover {
  background-color: #3ea6ff;
  color: #071422;
}

.form-control {
  background-color: #071422;
  border: none;
  color: #f0f0f0;
}

.form-control::placeholder {
  color: #7a8a9e;
}

a {
  color: #f0f0f0;
  text-decoration: none;
}

a:hover {
  color: #3ea6ff;
}

.movie-details-container {
  padding: 2rem 0;
}

.movie-poster-lg {
  width: 100%;
  border-radius: 0.75rem;
  box-shadow: 0 0 15px rgba(62, 166, 255, 0.3);
  object-fit: cover;
}

.movie-title {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 1rem;
}

.movie-meta {
  font-size: 1rem;
  margin-bottom: 0.75rem;
}

.badge-genre {
  background-color: #3ea6ff;
  color: #071422;
  margin-right: 0.5rem;
  font-weight: 600;
}

.movie-description {
  margin-top: 1.5rem;
  font-size: 1rem;
  line-height: 1.6;
}

.schedule-list {
  margin-top: 1rem;
  padding-left: 1.2rem;
}

.schedule-list li {
  margin-bottom: 0.5rem;
}

.footer {
  background-color: #071422;
  padding: 2rem 1.5rem 1rem 1.5rem;
  color: #7a8a9e;
  font-size: 0.85rem;
  margin-top: auto;
}
.footer .footer-top {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}
.footer .footer-logo {
  font-weight: 700;
  font-size: 1.25rem;
  color: #f0f0f0;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
}
.footer .footer-logo i {
  font-size: 1.5rem;
  color: #3ea6ff;
}
.footer .footer-column {
  min-width: 140px;
  flex: 1 1 140px;
}
.footer .footer-column ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
.footer .footer-column ul li {
  margin-bottom: 0.5rem;
}
.footer .footer-column ul li a {
  color: #7a8a9e;
  font-weight: 500;
}
.footer .footer-column ul li a:hover {
  color: #3ea6ff;
}
.footer .footer-bottom {
  border-top: 1px solid #1a2a4a;
  padding-top: 1rem;
  text-align: center;
  font-size: 0.75rem;
  color: #3ea6ff;
  font-weight: 600;
  letter-spacing: 1px;
}
.social-icons {
  display: flex;
  gap: 1rem;
  font-size: 1.25rem;
  margin-top: 0.5rem;
}
.social-icons a {
  color: #7a8a9e;
  transition: color 0.3s ease;
}
.social-icons a:hover {
  color: #3ea6ff;
}
/* ``` */

  </style>
</head>

<body>
  <!-- Navbar -->
  <nav class="navbar d-flex justify-content-between align-items-center">
    <a href="/movies/view" class="navbar-brand"><span>CINE</span>MATE</a>

```
<!-- Search Form -->
<form class="d-flex align-items-center ms-auto me-2" action="/movies/search" method="get" role="search" style="width: 25%;">
  <button class="btn btn-outline-light btn-sm me-2" type="submit"><i class="fas fa-search"></i></button>
  <input class="form-control form-control-sm" type="search" name="title" placeholder="Search" aria-label="Search movies" />
</form>
<a href="#" class="text-white fs-4 ms-3"><i class="fas fa-user-circle"></i></a>
```

  </nav>

  <!-- Movie Details -->  

  <div class="container movie-details-container">
    <div class="row g-5">
      <div class="col-md-4">
        <img src="<%= movie.posterUrl %>" alt="<%= movie.name %>" class="movie-poster-lg" />
      </div>
      <div class="col-md-8">
        <div class="movie-title"><%= movie.name %></div>
        <div class="movie-meta">
          <span><%= movie.description %></span>
        </div>
        <div class="movie-meta">
          <span><%= movie.genres.join('/') %> • <%= movie.duration %></span>
        </div>
        <div class="movie-schedule">
          <strong>Schedule:</strong>
          <ul class="schedule-list">
            <% if (movie.schedules) { %>
              <% movie.schedules.forEach(s => { %>
                <li><%= s.time %></li>
              <% }) %>
            <% } %>
          </ul>
          <a href="#" id="book-now-btn" class="btn btn-toggle w-100 mt-2">Book Now</a>

      </div>
    </div>
  </div>

  <!-- Footer -->

  <footer class="footer">
    <div class="footer-top container d-flex flex-wrap justify-content-between">
      <div class="footer-column">
        <div class="footer-logo"><i class="fas fa-film"></i> CINEMATE</div>
        <p>LOREM IPSUM SI DOLOR AMET</p>
        <p>LOREM IPSUM SI DOLOR AMET</p>
        <p>LOREM IPSUM SI DOLOR AMET</p>
      </div>
      <div class="footer-column">
        <ul>
          <li><a href="/movies/view">MOVIES</a></li>
          <li><a href="/fnb/view">F&amp;B</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <ul>
          <li><a href="#">CONTACT US</a></li>
          <li><a href="#">PRIVACY POLICY</a></li>
          <li><a href="#">TERMS &amp; CONDITIONS</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <p><strong>CINEMATE SUPPORT</strong></p>
        <p>E-MAIL : Cinemate@gmail.com</p>
        <p>FOLLOW US</p>
        <div class="social-icons">
          <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
          <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
          <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
          <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      COPYRIGHT © CINEMATE 2024. ALL RIGHT RESERVED
    </div>
  </footer>

  <!-- Bootstrap JS -->

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://app.sandbox.midtrans.com/snap/snap.js" data-client-key="<%= midtransClientKey %>"></script>
<script>
document.getElementById('book-now-btn').onclick = function() {
    fetch('/payment/create-transaction', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
            orderId: "<%= movie.movieId %>",
            amount: 10000, // bisa diambil dari harga tiket
            customer: {
                first_name: "User",
                email: "user@example.com",
                phone: "+628123456789"
            }
        })
    })
    .then(res => res.json())
    .then(data => {
        snap.pay(data.token);
    })
    .catch(err => console.error(err));
};
</script>

</body>

</html>
